%Written by RCViewer+ (RCViewer+ is a viewer/analyzer for quantum and reversible circuits)
%See http://ceit.aut.ac.ir/QDA/RCV.htm for more details

\[
\Qcircuit @C=0.7em @R=0.5em @!R{
\lstick{0}   	&   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\targ\qwx[1]   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\rstick{f3}   	\\
\lstick{0}   	&   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\targ\qwx[1]   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw\qwx[1]   	&\qw   	&\qw   	&\qw   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\qw   	&\rstick{f2}   	\\
\lstick{0}   	&   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw   	&\qw\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\ctrl{0}   	&\qw   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw   	&\rstick{f1}   	\\
\lstick{0}   	&   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\targ\qwx[1]   	&\ctrl{0}   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw   	&\targ\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw   	&\rstick{f0}   	\\
\lstick{x3}   	&   	&\qw\qwx[1]   	&\ctrlo{1}   	&\ctrl{1}   	&\ctrl{1}   	&\qw\qwx[1]   	&\qw   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\ctrlo{1}   	&\ctrl{1}   	&\ctrl{1}   	&\ctrl{1}   	&\qw   	&\ctrlo{1}   	&\ctrl{1}   	&\ctrlo{1}   	&\qw\qwx[1]   	&\ctrl{1}   	&\qw   	&\rstick{Garbage}   	\\
\lstick{x2}   	&   	&\ctrlo{1}   	&\ctrlo{1}   	&\qw\qwx[1]   	&\ctrl{1}   	&\qw\qwx[1]   	&\qw   	&\ctrlo{0}   	&\ctrlo{1}   	&\ctrlo{1}   	&\ctrl{0}   	&\ctrl{1}   	&\qw\qwx[1]   	&\qw   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\ctrlo{0}   	&\qw\qwx[1]   	&\qw   	&\rstick{Garbage}   	\\
\lstick{x1}   	&   	&\ctrl{1}   	&\ctrlo{0}   	&\ctrlo{0}   	&\qw\qwx[1]   	&\ctrl{0}   	&\qw   	&\qw   	&\ctrl{1}   	&\ctrlo{0}   	&\qw   	&\qw\qwx[1]   	&\qw\qwx[1]   	&\qw   	&\qw\qwx[1]   	&\ctrlo{0}   	&\qw\qwx[1]   	&\qw   	&\qw\qwx[1]   	&\qw   	&\rstick{Garbage}   	\\
\lstick{x0}   	&   	&\ctrlo{0}   	&\qw   	&\qw   	&\ctrlo{0}   	&\qw   	&\qw   	&\qw   	&\ctrlo{0}   	&\qw   	&\qw   	&\ctrlo{0}   	&\ctrlo{0}   	&\qw   	&\ctrl{0}   	&\qw   	&\ctrl{0}   	&\qw   	&\ctrlo{0}   	&\qw   	&\rstick{Garbage}   	
}
\]
